\chapter{Nomenclature}
\label{c:nomenclature}

%------------------------------------------------------------------------
\section{The Known Universe}

The information that \tao knows about can be divided into 5 categories: 
\begin{example}
  lattice   -- Machine layout and component strengths, and the beam orbit.
  data      -- Anything that can be measured. For example: orbit data, dispersion data, etc.
  variables -- Anything that can be varied. For example: quad strengths, etc.
  plotting  -- How to display data and other stuff.
  global    -- Miscellaneous global parameters.
\end{example}
The \vn{lattice} and \vn{data} information are grouped into what is called a
\vn{universe}. The entire collection of \vn{lattice}, \vn{data},
\vn{variables}, \vn{plotting}, and \vn{global} information is called
the \vn{super_universe} and is the sum of what \tao knows about.

%------------------------------------------------------------------------
\section{Lattices}

A \vn{lattice} consists of a machine description (the strength and placement of elements)
along with the beam orbit through them. There are actually three types of lattices:
  \vspace*{-3ex}
  \begin{description}
  \item[Design Lattice] \Newline 
The \vn{design} lattice is the particular lattice that one wants the
actual physical machine to conform to. The \vn{design} lattice is fixed. Nothing is
alowed to vary in this lattice.
  \item[Model Lattice] \Newline
All \tao commands to vary lattice variables vary quantities in the
\vn{model} lattice. In particular, things like orbit correction
involve varying \vn{model} variables until the \vn{data} as calculated
from the \vn{model} match the \vn{data} as actually measured.
  \item[Base Lattice] \Newline
It is sometimes convenient to designate a reference lattice so that
changes in the \vn{model} from the reference point can be looked at.
This reference lattice is called the \vn{base}.
  \end{description}

The \vn{model}, \vn{design}, and \vn{base} lattices along with any
\vn{data} are bundled together to form what is called a
\vn{universe}. \tao can simultaneously handle multiple universes. Why
is this useful? It can be used, for example, to simulate both rings of
a collider machine. This can be convenient if there are, say, steering
elements in common and it is needed to simultaneously correct the
orbit in both rings. Another case is where orbits in a machine have
been measured under different conditions of, say, beam energy, and it
is desired to fit all the data simultaneously.

%------------------------------------------------------------------------
\section{Data}

Blocks of like data are associated with what are called \vn{d1_data}
structures and sets of \vn{d1_data} structures are collected into what
are called \vn{d2_data} structures. For example, a \vn{d1_data}
structure is typically associated with the horizontal orbit data and
another \vn{d1_data} structure is typically associated with the
vertical orbit data. These two structures can then be collected into a
\vn{d2_data} structure representing all orbit data. The \vn{d1_data}
and \vn{d2_data} structures are defined in the \tao initialization
file (cf.~Chapter~\ref{c:init}).  When issuing \tao commands, all the
data associated with a \vn{d2_data} structure is specified using the
\vn{d2_data} structure's \vn{name}.  The data associated with a
\vn{d1_data} structure is specified using the format
\vn{d2_name:d1_name}. For example, If a \vn{d2_data} structure has the
name ``\vn{orbit}'', and one of its \vn{d1_data} structures has the name
``\vn{x}'', then in \tao commands you refer to the data in this
\vn{d1_data} structure by the name ``\vn{orbit:x}''. Sometimes there is
only one \vn{d1_data} structure for a given \vn{d2_data} structure. In
this case the data can be referred to simply by useing the
\vn{d2_data} structures's name.

Each data point (for example, the horizontal orbit at some
detector) has a number of quantities associated with it:
  \vspace*{-3ex}
  \begin{description}
  \item[Measured Data] \Newline 
The data as obtained from some measurement.
When doing lattice design the measured \vn{data} corresponds to
a constraint (See the chapter on optimization for more details).
  \item[Reference Data] \Newline
Reference data obtained from some reference measurement. For example,
a measurement before some variable is varied could be designated as
the \vn{reference}, and the data taken after the variation could be 
designated the \vn{measrued} data.
  \item[Model Data] \Newline
The data as calculated from the \vn{model} lattice.
  \item[Design Data] \Newline
The data as calculated from the \vn{design} lattice.
  \item[Base Data] \Newline
The data as calculated from the \vn{base} lattice.
  \end{description}

%------------------------------------------------------------------------
\section{Variables}

Blocks of variables are associated with what is called a
\vn{v1_var} structure and each of these structures has a \vn{name}
with which to refer to them in \tao commands. A given variable may
control a single attribute of one element in a \vn{model} lattice
of a single universe or variables can be configured to simultaneously
control multiple attributes across multiple universes.

Each individual variable has a number of values associated with it:
  \vspace*{-3ex}
  \begin{description}
  \item[Measured Value] \Newline
The Value as obtained at the time of the \vn{data} measurement.
  \item[Reference Value] \Newline
The Value as obtained at the time of the \vn{reference} data  measurement.
  \item[Model Value] \Newline
The value as given in the \vn{model} lattice.
  \item[Design Value] \Newline
The value as given in the \vn{design} lattice.
  \item[Base Value] \Newline
The value as given in the \vn{base} lattice.
  \end{description}

%------------------------------------------------------------------------
\section{Plotting}

\begin{figure}
  \centering
  \includegraphics{plot.psfig}
  \caption{A plot has is a collection of graphs and a graph has a 
collection of curves. A plot becomes visible when it 
is associated with a region using the \vn{place} command.}
  \label{f:plot}
\end{figure}

Some definitions:
  \vspace*{-3ex}
\begin{description}
\item[Curve] \Newline
A \vn{curve} is a set of (x,y) points to be plotted.
\item[Graph] \Newline
A \vn{graph} consists of horizontal and vertical axes along with a set
of \vn{curve}s that are plotted within the graph. 
\item[Plot] \Newline
A \vn{plot} is essentially a collection of \vn{graphs}.
\item[Page] \Newline
The \vn{page} refers to the x--window where graphics are displayed or the 
corresponding printed graphics page.
\item[Region] \Newline
The \vn{page} is divided up into a number of rectangles called
\vn{regions}. \vn{Regions} may overlap.
\end{description}

The plot initialization file (cf.~Chapter~\ref{c:init}) defines a set
of \vn{template plots}. A \vn{template} defines what type of data is
to be plotted (orbit, coupling, etc.), how many \vn{graphs} there are,
what the scales are for the \vn{graph} axes, how the \vn{graph}s are
laid out, etc.  The plot initialization file also defines a set of
\vn{region}s within the \vn{page}.  Using the \vn{place} command  
(see Chapter~\ref{c:command} for a full descriptions of all commands) one
can assign a particular \vn{template plot} to a particular region for plotting.
The relationship between \vn{region}, \vn{plot}, \vn{graph}, and
\vn{curve} is shown graphically in Figure~\ref{f:plot}.

Figures~\ref{f:plot_page1} and \ref{f:plot_page2} show examples
of a plot \vn{page}. n

Using the \vn{plot} command one can then specify \vn{who} is
plotted. \vn{who} refers to \vn{measured}, \vn{reference}, \vn{model},
\vn{base}, and/or \vn{design} data.  Notice that the same \vn{template}
plot can be assigned to different \vn{regions} and the plots in different
\vn{regions} can have different scales for their axes or different
\vn{who}.

The \vn{use}, \vn{veto}, \vn{restore},
and \vn{clip} commands are used to display or not to display
individual data points. These are the same commands that control what
data is used in fitting the model to the data. The general rule is
that data that is vetoed for display are simultaneously vetoed for fitting.

When issuing \tao commands, to specify a particular \vn{graph} in a plot
use the notation:
\begin{example}
  region:graph
\end{example}
For example, If a template has two graphs named \vn{x} and \vn{y} and
this template is assigned to the \vn{top} region then the \vn{x} graph
is referred to as \vn{top:x}. 

\begin{figure}
  \centering
  \includegraphics[width=5in]{plot_page1.psfig}
  \caption{Example of a plot page}
  \label{f:plot_page1}
\end{figure}

\begin{figure}
  \centering
  \includegraphics[width=5in]{plot_page2.psfig}
  \caption{Another example of a plot page.}
  \label{f:plot_page2}
\end{figure}

%------------------------------------------------------------------------
\section{Single Character Input}

Sometimes it is convenient to be able to vary variables using single key strokes
without having to type a carriage return.
With \tao this is possible using what is called \vn{single mode}. This is distinct from
\vn{line mode} where commands to \tao are typed at the command line with a carriage 
return signaling the end of the command. As explained in the initialization chapter,
\vn{single mode} uses a special initialization file.

The \vn{single mode} initialization file associates variables with certain keyboard keys
so that when these keys are pressed the value of the variable is varied. This association
between variables and keys is called a \vn{key table}.

