no_digested

beam_start[x]  = 1e-4
beam_start[px] = 2e-4
beam_start[y]  = 3e-4
beam_start[py] = 4e-4
beam_start[z]  = 5e-3
beam_start[pz] = .3

beginning[beta_a] =  10
beginning[beta_b] =  10

e_tot = 1e6
parameter[lattice_type] = linear_lattice
beginning[e_tot] = e_tot
parameter[absolute_time_tracking] = T

!ele: rfcavity, l = 4.5, rf_frequency = 500e6, voltage = 5e5, phi0 = 1, num_steps = 1
!ele: quad, l = 0.1, k1 = 0001, x_pitch = 0.0001, x_offset = 0.002, tilt = 0.1, y_pitch = 0.0001, y_offset = 0.0056, a2=10
!ele: sbend, l = 0.01, g = 0.01, e1 = .1, e2 = 0

ab_multipole1:     ab_multipole, a2 = 0.034e-2, b3 = 5.7, a11 = 5.6e6/2
drift1:            drift, l = 4.5, num_steps = 10
ecollimator1:      ecollimator, l = 4.5, x_limit = 0.09/2, y_limit = 0.05/2, num_steps = 10
elseparator1:      elseparator, l = 4.5, hkick = 0.0005, gap = 0.11, num_steps = 10
hkicker1:          hkicker, l = 4.5, kick = 0.005, num_steps = 10
instrument1:       instrument, l = 4.5, num_steps = 10
kicker1:           kicker, l = 4.5, hkick = 0.003, vkick = 0.003, num_steps = 10
lcavity1:          lcavity, l = 4.5, rf_frequency = 500e6, voltage = 5e6, num_steps = 10
monitor1:          monitor, l = 4.5, num_steps = 10
multipole1:        multipole, k1l = 0.034e-2, t1, k3l = 4.5, t3 = 0.31*pi
octupole1:         octupole, l = 4.5, k3 = 0.003, tilt, num_steps = 100, x_offset = 0.1, x_pitch = 1e-5
quadrupole1:       quadrupole, l = 0.6, k1 = 1, tilt, num_steps = 10
rcollimator1:      rcollimator, l = 4.5, x_limit = 0.09/2, y_limit = 0.05/2, num_steps = 10
rfcavity1:         rfcavity, l = 0.1, rf_frequency = 500e6, voltage = e_tot/10, num_steps = 10
sbend1:            sbend, l = 0.6, k1 = 0.003, num_steps = 10
sbend2:            sbend, l = 0.6, k2 = 0.003, num_steps = 10
sextupole1:        sextupole, l = 0.6, k2 = 100, tilt, num_steps = 100
solenoid1:         solenoid, l = 2.6, ks = 1.5, num_steps = 10
sol_quad1:         sol_quad, l = 2.6, k1 = 0.632, ks = 1.5, num_steps = 10
vkicker1:          vkicker, l = 4.5, kick = 0.005, num_steps = 10
wiggler_map1:      wiggler, l = 1.6, term(1) = {0.00, 3.00, 4.00, 5.00, 0.63}, num_steps = 10, tracking_method = symp_lie_ptc
wiggler_periodic1: wiggler, l = 1.6, b_max = 1, n_pole = 2, num_steps = 100

! Bad: sol_quad (z), wiggler_periodic

ele: rfcavity1, phi0 = 0.1

l0: line = (ele)

l1: line = (--l0)

l1[rel_tracking_charge] = -1
l1[e_tot] = e_tot

use, l0, l1
