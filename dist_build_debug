#!/bin/bash

# Script to build the debug version of the distribution.

# Order here matters.
DIRLIST="xsif PGPLOT lapack gsl fgsl forest recipes_f-90_LEPP sim_utils bmad tao examples cesr_utils bmadz bsim"

for DIR in ${DIRLIST}
do
  cd ${DIST_BASE_DIR}/${DIR};
  echo "Building directory: ${DIR}"
  if ( [ "${DIR}" == "PGPLOT" ] ) then
    ./acc_build -debug
  elif ( [ "${DIR}" == "lapack" ] ) then
    ./acc_build -debug
    cd LAPACK95 ; ./acc_build -debug
  elif ( [ "${DIR}" == "gsl" ] ) then
    ./acc_build -debug
  elif ( [ "${DIR}" == "fgsl" ] ) then
    ./acc_build -debug
  else
    mkd ${1}
  fi
  if ( [ ${?} != 0 ] ) then
    echo "Error in distribution build."
    exit 1
  fi
done

cd ${DIST_BASE_DIR}

