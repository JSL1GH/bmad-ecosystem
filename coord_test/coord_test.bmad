
parameter[e_tot] = 1e9

particle_start[x]  = 0.
particle_start[px] = 0.0
particle_start[y]  = 0.
particle_start[py] = 0.0
particle_start[z]  = 0
particle_start[pz] = -0.

ff = 0
xo = 1e-1*ff
yo = 0.1*ff
zo = 0.1*ff
xp = 1e-2
yp = 1e-2*ff
tt = 1*ff
rt = 0
rr = 0.1*ff

gg = 0.001

q0: solenoid, l = 2,                z_offset = zo, x_pitch = xp, x_offset = xo, y_offset = yo, y_pitch = yp, tilt = tt
q1: quadrupole, l = 2
b0: sbend, l = 2, g = gg, dg = -gg, z_offset = zo, x_pitch = xp, x_offset = xo, y_offset = yo, y_pitch = yp, ref_tilt = rt, roll = rr

b1: sbend, l = 2, g = 1e-6, dg = -1e-6, x_pitch = xp, x_offset = xo, ref_tilt = 1e-20

s: sample, x_offset = 1, y_offset = 2, x_pitch = 4, y_pitch = 5, tilt = 6, z_offset = 7, l = 2
m: mirror, graze_angle = pi/2, &
        x_offset = 2, y_offset = 2, x_pitch = 4, y_pitch = 5, tilt = 6, z_offset = 7, x_limit = 0.1, y_limit = 0.1
!!m2: mirror, graze_angle = pi/4, tilt = pi/2
m2: mirror, graze_angle = pi/4!, tilt = pi/2

!!l0: line = (q0, q1, b0)
l0: line = (q0, b0)

l1: line = (s, m, m2)
l1[e_tot] = 1e4
l1[particle] = photon

use, l0, l1

end_file

particle_start[x]  = 0.1
particle_start[px] = 0.70710678
particle_start[y]  = 0.
particle_start[py] = 0.

