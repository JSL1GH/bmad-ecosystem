\chapter{Helper Routines}
\label{c:helper}

This chapter gives an overview of various compulational helper routines.

%-----------------------------------------------------------------------------
\section{Nonlinear Optimization}
\label{s:opti}
\index{Optimizers}

\index{Numerical Recipes!library}
\index{Tao}
Nonlinear optimization is the process of finding a minimum (or
maximum) of a nonlinear function (the "merit" function). Nonlinear
optimization is frequently used for lattice design or matching of data
to a model. For more information on this see the \tao manual.

In terms of routines for implementing nonlinear optimization the
Numerical Recipes library (\sref{s:libs} that is distributed along
with \bmad contains several. In particular, the routine \vnr{mrqmin}
which implements the Levenberg--Marquardt is an excellent routine for
finding local minimum when the merit function can be expressed as the
sum of quadratic terms. Another routine, \vnr{frprmn}, which is an
implementation of the Fletcher--Reeves algorithm, is also good at
finding local minimum and has the advantage that as input it does not
need a derivative matrix as does Levenberg--Marquardt. The
disadvantage of Fletcher--Reeves is that it is slower than
Levenberg--Marquardt. 

A second implementation of Levenberg--Marquardt available with \bmad
is \vnr{opti_lmdif} which is Fortran90 version of the popular
\vn{lmdif} routine. Also available is \vnr{opti_de} which implements
the Differential Evolution algorithm of Storn and
Price\cite{b:storn}. This routine is good for finding global minimua
but can be slow. 

Another routine that should be mentioned is the \vn{amoeba} routine
from Numerical Recipes that implements the downhill simplex method of
Neider and Mead. This routine is robust but slow but is easily
parallelized so it is a good routine for parallel processing.
